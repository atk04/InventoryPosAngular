<div class="row">
  <div class="col-sm-12">
    <app-card cardTitle="Company">
      <div class="row">
        <div class="col-md-6">
          <form [formGroup]="companyFormGroup" (ngSubmit)="onSubmit()">
            <div class="form-group row">
              <label class="col-sm-2" for="name">Name</label>
              <div class="col-sm-10">
                <input
                  id="name"
                  class="form-control"
                  type="text"
                  placeholder="Enter Name"
                  formControlName="Name"
                />

                <div
                  class="row"
                  *ngIf="
                    Name.invalid &&
                    (Name.dirty || Name.touched)
                  "
                  class="alert alert-danger mt-1"
                >
                  <div
                    *ngIf="
                    Name.errors.required ||
                    Name.errors.notOnlyWhitespace
                    "
                  >
                    Name is required
                  </div>

                  <div *ngIf="Name.errors.minlength">
                    Name must be at least 2 characters long
                  </div>
                </div>
              </div>
            </div>

            <div class="form-group row">
              <label class="col-sm-2" for="address">Address</label>
              <div class="col-sm-10">
                <input
                  id="address"
                  class="form-control"
                  type="text"
                  placeholder="Enter Company Address"
                  formControlName="Address"
                />

                <div
                  class="row"
                  *ngIf="
                  Address.invalid &&
                    (Address.dirty || Address.touched)
                  "
                  class="alert alert-danger mt-1"
                >
                  <div
                    *ngIf="
                    Address.errors.required ||
                    Address.errors.notOnlyWhitespace
                    "
                  >
                  Address is required
                  </div>

                  <div *ngIf="Address.errors.minlength">
                    Address must be at least 2 characters long
                  </div>
                </div>
              </div>
            </div>

            <div class="form-group row">
              <label class="col-sm-2" for="phone">Phone</label>
              <div class="col-sm-10">
                <input
                  id="phone"
                  class="form-control"
                  type="text"
                  placeholder="Enter Phone Number "
                  formControlName="Phone"
                />
                <div
                class="row"
                *ngIf="
                Phone.invalid &&
                  (Phone.dirty || Phone.touched)
                "
                class="alert alert-danger mt-1"
              >
                <div
                  *ngIf="
                  Phone.errors.required ||
                  Phone.errors.notOnlyWhitespace
                  "
                >
                Phone is required
                </div>

                <div *ngIf="Phone.errors.minlength">
                  Phone must be at least 2 characters long
                </div>
              </div>

              </div>
            </div>

            <div class="form-group row">
              <label class="col-sm-2" for="email">Email</label>
              <div class="col-sm-10">
                <input
                  id="email"
                  class="form-control"
                  type="text"
                  placeholder="Enter email address "
                  formControlName="Email"
                />
                <div
                class="row"
                *ngIf="
                Email.invalid &&
                  (Email.dirty || Email.touched)
                "
                class="alert alert-danger mt-1"
              >
                <div
                  *ngIf="
                  Email.errors.required ||
                  Email.errors.notOnlyWhitespace
                  "
                >
                Email is required
                </div>

                <div *ngIf="Email.errors.minlength">
                  Email must be at least 2 characters long
                </div>
              </div>

              </div>
            </div>

            <div class="form-group row">
              <label class="col-sm-2" for="website">Website</label>
              <div class="col-sm-10">
                <input
                  id="website"
                  class="form-control"
                  type="text"
                  placeholder="Enter website address "
                  formControlName="Website"
                />

                <div
                class="row"
                *ngIf="
                Website.invalid &&
                  (Website.dirty || Website.touched)
                "
                class="alert alert-danger mt-1"
              >
                <div
                  *ngIf="
                  Website.errors.required ||
                  Website.errors.notOnlyWhitespace
                  "
                >
                Website is required
                </div>

                <div *ngIf="Website.errors.minlength">
                  Website must be at least 2 characters long
                </div>
              </div>
              </div>
            </div>

            <div class="form-group row">
              <label class="col-sm-2"></label>

              <div class="col-sm-10">
                <button type="submit" id="saveCompany" mat-raised-button>
                  Save
                </button>
              </div>
            </div>
          </form>
        </div>
        <div class="col-md-6">
          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Name</th>
                  <th colspan="2" class="text-center">Action</th>
                </tr>
              </thead>
              <tbody>
                <ng-container *ngIf="Companies.length != 0; else second">
                  <tr
                    *ngFor="
                      let tempCompany of Companies;
                      let indexOfelement = index
                    "
                  >
                    <td>{{ indexOfelement + 1 }}</td>
                    <td>{{ tempCompany.name }}</td>
                    <td>
                      <a
                        routerLink="/admin/company-page/{{ tempCompany.id }}"
                        class="btn-block"
                        mat-raised-button
                        color="accent"
                      >
                        Edit
                      </a>
                    </td>
                    <td>
                      <button class="btn-block" mat-raised-button color="warn" (click)="onDelete(tempCompany.id)">
                        Delete
                      </button>
                    </td>
                  </tr>
                </ng-container>
                <ng-template #second>
                  <tr>
                    <td colspan="4" style="text-align: center">
                      There is no company data.
                    </td>
                  </tr>
                </ng-template>
              </tbody>
            </table>
          </div>

        </div>
      </div>
      <ng-container *ngIf="Companies.length != 0">
        <mat-paginator
          [length]="length"
          [pageSize]="pageSize"
          [pageSizeOptions]="pageSizeOptions"
          (page)="onPaginate($event)"
        >
        </mat-paginator>
      </ng-container>
    </app-card>
  </div>
</div>
<div class="row">
  <ng-snotify></ng-snotify>
</div>
